---
title: "Gov 50 Final Project"
author: "Maya Bodnick"
description: "My final project" 
output:
  distill::distill_article:
    self_contained: false
---

Milestone 1:

I am interested in exploring data related to political science, economics, and sports. I have a lot of ideas related to sports. I might look into the home court advantage in professional sports; this is my favorite idea. I could also look into salary caps in the NBA: how does the distribution of player salaries within a team affect its performance in the NBA? Another idea -- what is the short-term and long-term economic impact on cities that host major sports events, like the Olympics or the FIFA World Cup? 

Milestone 2:

In most professional sports, teams win more often when they play games at home as opposed to away (Moskowitz & Wertheim 2012). In this study, I examine the home court advantage in National Basketball Association games. I hypothesize that (1) the home team wins games more often than the visiting team and (2) hometown crowds are a major cause of this advantage. Most of the fans in the crowd support the hometown team and will cheer for that team; the crowd noise could potentially motivate home team players and discourage the visiting team. Furthermore, the fans will respond negatively to fouls called against the hometeam, and positively to fouls called against the visiting team; the social pressure from this crowd noise could influence the referees to call fewer fouls on the home team and more on the visiting team (Nevill et al. 2002). My sample is NBA games played from 2004 to 2019. I am not looking at the 2020-21 season because of the complicated impacts of COVID-19 and the NBA bubble. I am using data from NBA Stats (the League’s official platform) that was scraped by data scientist Nathan Lauga (Kaggle, NBA Stats). My explanatory variable of interest is whether a team is playing at home or away. For each game, there is one team in each of these categories. I will use the outcome variable of the final score (measured in points scored by each team) to test the first hypothesis of whether the home team won games more often than the visiting team. If the home team won games at a significantly higher rate than the visiting team, this will provide support for my hypothesis; if the win rate is similar (or the visiting team won more games), this would provide evidence against my hypothesis. I will use two outcome variables to test the second hypothesis about the impact of the crowd on the home court advantage. First, I will compare the free throw percentages of the home vs. the visiting team as an indicator of the impact of the crowd on player performance. If the home team scored significantly more free throws on average compared to the visiting team, this would suggest that the crowd noise could be impacting free throw shooting to the advantage of the home team. If there was no difference between the home and the visiting team’s free throw rates, or if the visiting team made more free throws on average, then this would provide evidence against my hypothesis. Second, I will compare the number of personal fouls called on the home vs. the visiting team as an indicator of the impact of the crowd on refereeing. If the referees called significantly more personal fouls on the visiting team as opposed to the home team, this would suggest that the crowd noise could be leading the referees to officiate more favorably toward the home team. If there was no difference between the amount of fouls called on the home vs. visiting team, or more were called on the home team, then this would provide evidence against my hypothesis.  

Sources:
https://www.amazon.com/Scorecasting-Hidden-Influences-Behind-Sports/dp/0307591808
https://www.sciencedirect.com/science/article/abs/pii/S1469029201000334
https://www.kaggle.com/datasets/nathanlauga/nba-games

Milestone 3:

```{r setup, include=FALSE}
library(tidyverse)
library(dplyr)
library(ggplot2)

games <- read_csv("games.csv")
fouls <- read_csv("games_details.csv")
```

Here's my data set, which includes statistics on final scores and free throw percentages. 

```{r, echo=FALSE}
games
```

Based on this data, I created three visualizations:

```{r, echo=FALSE}
load("wins_barplot.RData")
wins_barplot
load("points_barplot.RData")
points_barplot
load("ft_barplot.RData")
ft_barplot
```

Milestone 4:

2014-2022
0.5870324

```{r, echo=FALSE}
ft_table <- data.frame(
  Intercept = c("75.88%"),
  Home = c("+0.16%")
)

ft_table_formatted <- knitr::kable(ft_table, col.names = c("Average visiting team FT rate", "Average home court FT rate advantage"))

pts_table <- data.frame(
  Intercept = c("100.64"),
  Home = c("+2.82")
)

pts_table_formatted <- knitr::kable(pts_table, col.names = c("Average visiting team points", "Average home court points advantage"))

```





